# Shutdown Timer

Небольшая утилита на Python + Tkinter для отложенного выключения/гибернации/перезагрузки Windows.

Файлы
- `shutdown.py` — основной скрипт с GUI и логикой таймера.
- `shutdown.exe` — (опционально) собранный исполняемый файл после PyInstaller.
- `build/` — временная папка сборки PyInstaller.

Требования
- Python 3.8+ (рекомендовано 3.10+)
- Библиотека `tkinter` (обычно идёт в стандартной библиотеке на Windows)
- PyInstaller для сборки exe

Установка зависимостей
- PyInstaller устанавливается через pip:

```pwsh
pip install pyinstaller
```

Сборка exe

В корне проекта выполните команду (PowerShell/cmd):

```pwsh
python -m PyInstaller --onefile --windowed --distpath . --workpath build --specpath build shutdown.py
```

Параметры:
- `--onefile` — упаковать в один .exe
- `--windowed` — без консольного окна при старте
- `--distpath .` — поместить готовый exe в текущую папку
- `--workpath build`/`--specpath build` — временные и spec файлы в `build/`

Запуск и тестирование
- После сборки в директории `.` появится `shutdown.exe`. Запустите его двойным кликом.
- Введите часы и минуты и нажмите "Запустить".

Особенности времени
- Минимальное ожидаемое время: 20 минут (если задать 0 часов и меньше 20 минут — автоматически установится 20 минут).
- Максимум: 20 часов (в коде ограничение в 72000 секунд).

Как работает команда
- Скрипт формирует команду вида `timeout /t <seconds> /nobreak && shutdown <mode>` и запускает её через `cmd` в новом консольном окне (используется `subprocess.Popen` с `CREATE_NEW_CONSOLE`).

Примечание по видимому cmd-окну
- При срабатывании таймера появится отдельное окно cmd, выполняющее `timeout` и затем `shutdown` (это ожидаемое поведение текущей реализации).
- Если вы хотите убрать видимое окно, можно заменить запуск `timeout` на фоновый Python-таймер и вызвать `shutdown` через `subprocess.Popen` с флагом `CREATE_NO_WINDOW`.





